name "inochi2d-c"
description "Inochi2D C compatibility layer"
authors "Inochi2D Project"
copyright "Copyright Â© 2022, Inochi2D Project"
license "BSD 2-clause"
dependency "inochi2d" version="~>0.7.1"
targetType "dynamicLibrary"
targetPath "out/"

toolchainRequirements dmd="no" gdc="no" ldc=">=1.11.0"

dflags "--mscrtlib=msvcrt" platform="windows-ldc" // Use the dynamic CRT on Windows.
dflags "-flto=full" platform="ldc"
dflags "--fvisibility=hidden" platform="ldc"
dflags "--static" platform="ldc"
dflags "-d-version=GL_ARB" platform="ldc"

configuration "nogl" {
    subConfiguration "inochi2d" "renderless"
}

configuration "yesgl" {
    subConfiguration "inochi2d" "full"
    versions "yesgl"
}